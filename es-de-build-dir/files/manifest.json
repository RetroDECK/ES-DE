{
  "id" : "net.retrodeck.es-de",
  "runtime" : "org.kde.Platform",
  "runtime-version" : "6.7",
  "runtime-commit" : "97b849081abecba33176b3ec125db42a0cbf2bab286fc6e9cebfa68327c9ec27",
  "sdk" : "org.kde.Sdk",
  "sdk-commit" : "b9cf038eaf7a038a1443b178bf8bc152360b5c346fdcd9515da62dcbfbe8114a",
  "command" : "/app/bin/es-de",
  "modules" : [
    {
      "name" : "pugixml",
      "buildsystem" : "cmake-ninja",
      "config-opts" : [
        "-DBUILD_SHARED_LIBS=ON"
      ],
      "sources" : [
        {
          "url" : "https://github.com/zeux/pugixml/releases/download/v1.14/pugixml-1.14.tar.gz",
          "sha256" : "2f10e276870c64b1db6809050a75e11a897a8d7456c4be5c6b2e35a11168a015",
          "x-checker-data" : {
            "type" : "anitya",
            "project-id" : 3728,
            "url-template" : "https://github.com/zeux/pugixml/releases/download/v$version/pugixml-$version.tar.gz"
          },
          "type" : "archive"
        }
      ],
      "cleanup" : [
        "/include",
        "/lib/cmake",
        "/lib/pkgconfig"
      ]
    },
    {
      "name" : "libpoppler-glib",
      "buildsystem" : "cmake-ninja",
      "config-opts" : [
        "-DENABLE_BOOST=OFF"
      ],
      "sources" : [
        {
          "url" : "https://poppler.freedesktop.org/poppler-22.11.0.tar.xz",
          "sha256" : "093ba9844ed774285517361c15e21a31ba4df278a499263d4403cca74f2da828",
          "type" : "archive"
        }
      ],
      "cleanup" : [
        "/lib/pkgconfig",
        "/include",
        "*.a",
        "*.la"
      ]
    },
    {
      "name" : "ffmpeg",
      "config-opts" : [
        "--disable-static",
        "--disable-programs",
        "--disable-doc",
        "--enable-gpl",
        "--enable-shared",
        "--enable-libvorbis",
        "--enable-libopus",
        "--enable-libvpx",
        "--enable-postproc"
      ],
      "sources" : [
        {
          "url" : "https://github.com/FFmpeg/FFmpeg.git",
          "commit" : "80e7806be7f10c038bef2e71905e91af174c28e9",
          "type" : "git"
        }
      ]
    },
    {
      "name" : "freeimage",
      "no-autogen" : true,
      "make-args" : [
        "DESTDIR=/app"
      ],
      "sources" : [
        {
          "url" : "http://downloads.sourceforge.net/freeimage/FreeImage3180.zip",
          "sha256" : "f41379682f9ada94ea7b34fe86bf9ee00935a3147be41b6569c9605a53e438fd",
          "type" : "archive"
        },
        {
          "commands" : [
            "sed -i 's|-o root -g root ||' ./Makefile.gnu",
            "sed -i 's|/usr|/app|' ./Makefile.gnu"
          ],
          "type" : "shell"
        }
      ],
      "build-options" : {
        "cxxflags" : "-std=c++14"
      }
    },
    {
      "name" : "libgit2",
      "buildsystem" : "cmake-ninja",
      "config-opts" : [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DBUILD_SHARED_LIBS:BOOL=ON",
        "-DTHREADSAFE=ON"
      ],
      "sources" : [
        {
          "url" : "https://github.com/libgit2/libgit2.git",
          "commit" : "c058aa87dce4c67a3b86b3349beebd64b7bedcd3",
          "type" : "git"
        }
      ]
    },
    {
      "name" : "libpoppler-glib-2",
      "buildsystem" : "cmake-ninja",
      "config-opts" : [
        "-DENABLE_BOOST=OFF"
      ],
      "sources" : [
        {
          "url" : "https://poppler.freedesktop.org/poppler-22.11.0.tar.xz",
          "sha256" : "093ba9844ed774285517361c15e21a31ba4df278a499263d4403cca74f2da828",
          "type" : "archive"
        }
      ],
      "cleanup" : [
        "/lib/pkgconfig",
        "/include",
        "*.a",
        "*.la"
      ]
    },
    {
      "name" : "ES-DE",
      "buildsystem" : "cmake-ninja",
      "config-opts" : [
        "-DRETRODECK=on"
      ],
      "sources" : [
        {
          "url" : "https://github.com/XargonWan/RetroDECK-ES-DE",
          "commit" : "46f117227db9d1959be72d9361c5c0ae98c61662",
          "type" : "git"
        },
        {
          "type" : "shell"
        }
      ],
      "cleanup" : [
        "es-app",
        "es-core"
      ]
    },
    {
      "name" : "art-book-next-es-de",
      "buildsystem" : "simple",
      "sources" : [
        {
          "url" : "https://github.com/anthonycaccese/art-book-next-es-de.git",
          "commit" : "4fe896af7447404f6ea083335cd661c91b0f7860",
          "type" : "git"
        }
      ],
      "build-commands" : [
        "mkdir -p ${FLATPAK_DEST}/share/es-de/themes/art-book-next-es-de/",
        "mv -f * ${FLATPAK_DEST}/share/es-de/themes/art-book-next-es-de/"
      ]
    }
  ],
  "cleanup" : [
    "/include",
    "/share/ffmpeg",
    "/lib/cmake",
    "/lib/pkgconfig",
    "/include",
    "/bin/glslangValidator",
    "/bin/zip*",
    "/bin/zstd*",
    "/lib/pkg-config",
    "/share/doc",
    "/share/man",
    "/src",
    "*.a",
    "*.la",
    "/lib/debug",
    "/share/runtime"
  ],
  "sdk-extensions" : [
    "org.freedesktop.Sdk.Extension.llvm18"
  ],
  "finish-args" : [
    "--socket=wayland",
    "--socket=x11",
    "--socket=pulseaudio",
    "--share=ipc",
    "--share=network",
    "--device=all",
    "--filesystem=host",
    "--filesystem=home/.var/app/com.valvesoftware.Steam",
    "--allow=multiarch",
    "--talk-name=org.freedesktop.ScreenSaver",
    "--talk-name=org.freedesktop.PowerManagement.Inhibit",
    "--talk-name=org.freedesktop.login1.Manager",
    "--filesystem=xdg-run/app/com.discordapp.Discord:create",
    "--filesystem=xdg-config/gtk-3.0:ro",
    "--env=QT_QPA_PLATFORM=wayland;wayland-egl;xcb",
    "--allow=bluetooth",
    "--env=SDL_VIDEO_X11_WMCLASS=net.retrodeck.es-de",
    "--env=SDL_VIDEO_WAYLAND_WMCLASS=net.retrodeck.es-de",
    "--unset-env=QEMU_AUDIO_DRV",
    "--filesystem=xdg-data/Steam:rw",
    "--filesystem=~/.steam:rw",
    "--filesystem=~/.var/app/com.valvesoftware.Steam:rw",
    "--filesystem=xdg-run/gamescope-0:ro"
  ]
}